angular.module("hey",[]).factory("hey",["$rootScope",function(a){"use strict";function b(a,b){if(a.filter)return a.filter(b);var c=[];return angular.forEach(a,function(a){b(a)&&c.push(a)}),c}function c(b,c,e){f[b]||(f[b]=[]),f[b].push({destroy:(e||a).$on(b,c),cb:c}),e&&e.$on("$destroy",function(){d(b,c)})}function d(a,c){var d,e=f[a];d=c?b(e,function(a){return a.cb===c}):e,angular.forEach(d,function(a){a.destroy()})}function e(a,b,e){function f(){d(a,f),b.apply(null,arguments)}c(a,f,e)}var f={};return{listen:c,once:e,stop:d}}]);